<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Snake Game</title>
<link rel="stylesheet" href="../style.css">
<style>
canvas{background:#111;border-radius:8px;display:block;margin:12px auto}
.controls{margin-top:8px}
</style>
</head>
<body>
<div class="container">
  <h1>üêç Snake</h1>
  <canvas id="c" width="400" height="400"></canvas>
  <div class="controls">
    <button onclick="start()">Start/Restart</button>
    <span id="score">Score: 0</span>
  </div>
  <a class="back" href="../index.html">‚¨Ö Back to Hub</a>
</div>
<script>
const canvas=document.getElementById('c'), ctx=canvas.getContext('2d');
const size=20, cols=canvas.width/size, rows=canvas.height/size;
let snake, dir, food, running, score=0, id;
function start(){
  snake=[{x:5,y:5},{x:4,y:5},{x:3,y:5}]; dir={x:1,y:0}; placeFood(); score=0; running=true; document.getElementById('score').textContent='Score: 0';
  if(id) clearInterval(id); id=setInterval(loop,120);
}
function placeFood(){ food={x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)}; }
document.addEventListener('keydown', e=>{
  if(e.key==='ArrowUp' && dir.y!==1) dir={x:0,y:-1};
  if(e.key==='ArrowDown' && dir.y!==-1) dir={x:0,y:1};
  if(e.key==='ArrowLeft' && dir.x!==1) dir={x:-1,y:0};
  if(e.key==='ArrowRight' && dir.x!==-1) dir={x:1,y:0};
});
function loop(){
  const head={x: snake[0].x+dir.x, y: snake[0].y+dir.y};
  if(head.x<0||head.x>=cols||head.y<0||head.y>=rows || snake.some(s=>s.x===head.x && s.y===head.y)){ clearInterval(id); alert('Game Over! Score: '+score); running=false; return; }
  snake.unshift(head);
  if(head.x===food.x && head.y===food.y){ score+=10; document.getElementById('score').textContent='Score: '+score; placeFood(); }
  else snake.pop();
  draw();
}
function draw(){
  ctx.fillStyle='#111'; ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle='#0f0'; snake.forEach(s=> ctx.fillRect(s.x*size+1,s.y*size+1,size-2,size-2));
  ctx.fillStyle='#f00'; ctx.fillRect(food.x*size+1,food.y*size+1,size-2,size-2);
}
start();
</script>
</body>
</html>
